@model PawPalQoL.Models.QualityOfLifeModel
@{
    ViewData["Title"] = "Pet Quality of Life Assessment";
}

<div class="hero-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 text-center">
                <h1 class="hero-title float">
                    <i class="fas fa-heart pulse me-3"></i>
                    PET QUALITY OF LIFE
                </h1>
                <p class="hero-subtitle">Help us understand your pet's well-being with this comprehensive assessment tool</p>
                <div class="mt-4">
                    <i class="fas fa-paw" style="font-size: 2rem; color: white; opacity: 0.8; margin: 0 10px;"></i>
                    <i class="fas fa-paw" style="font-size: 2rem; color: white; opacity: 0.8; margin: 0 10px;"></i>
                    <i class="fas fa-paw" style="font-size: 2rem; color: white; opacity: 0.8; margin: 0 10px;"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-9">
            <div class="pawpal-card fade-in-up">
                <div class="pawpal-card-header text-center">
                    <h3 class="mb-0">
                        <i class="fas fa-clipboard-check me-2"></i>
                        ASSESSMENT FORM
                    </h3>
                    <p class="mb-0 mt-3 opacity-90" style="font-size: 1.1rem; font-weight: 600;">Rate each category based on your pet's current condition</p>
                </div>
                
                <div class="pawpal-card-body">
                    <form asp-action="Index" method="post" id="qualityForm">
                        
                        <!-- Pain Level -->
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-thermometer-half text-danger me-2"></i>
                                Pain Management
                            </label>
                            <p class="text-muted mb-3" style="font-size: 1rem; font-weight: 600;">How well is your pet managing any pain or discomfort?</p>
                            <div class="range-container">
                                <input type="range" name="Pain" min="1" max="10" value="5" class="range-input" id="painRange">
                                <div class="range-labels">
                                    <span><strong>Severe Pain (1)</strong></span>
                                    <span><strong>No Pain (10)</strong></span>
                                </div>
                                <div class="range-value" id="painValue">5</div>
                            </div>
                        </div>

                        <!-- Mobility -->
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-running text-primary me-2"></i>
                                Mobility & Activity
                            </label>
                            <p class="text-muted mb-3" style="font-size: 1rem; font-weight: 600;">How active and mobile is your pet?</p>
                            <div class="range-container">
                                <input type="range" name="Mobility" min="1" max="10" value="5" class="range-input" id="mobilityRange">
                                <div class="range-labels">
                                    <span><strong>Very Limited (1)</strong></span>
                                    <span><strong>Fully Active (10)</strong></span>
                                </div>
                                <div class="range-value" id="mobilityValue">5</div>
                            </div>
                        </div>

                        <!-- Appetite -->
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-utensils text-success me-2"></i>
                                Appetite & Eating
                            </label>
                            <p class="text-muted mb-3" style="font-size: 1rem; font-weight: 600;">How is your pet's appetite and eating behavior?</p>
                            <div class="range-container">
                                <input type="range" name="Appetite" min="1" max="10" value="5" class="range-input" id="appetiteRange">
                                <div class="range-labels">
                                    <span><strong>No Appetite (1)</strong></span>
                                    <span><strong>Excellent Appetite (10)</strong></span>
                                </div>
                                <div class="range-value" id="appetiteValue">5</div>
                            </div>
                        </div>

                        <!-- Happiness -->
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-smile text-warning me-2"></i>
                                Happiness & Behavior
                            </label>
                            <p class="text-muted mb-3" style="font-size: 1rem; font-weight: 600;">How happy and engaged does your pet seem?</p>
                            <div class="range-container">
                                <input type="range" name="Happiness" min="1" max="10" value="5" class="range-input" id="happinessRange">
                                <div class="range-labels">
                                    <span><strong>Very Withdrawn (1)</strong></span>
                                    <span><strong>Very Happy (10)</strong></span>
                                </div>
                                <div class="range-value" id="happinessValue">5</div>
                            </div>
                        </div>

                        <div class="text-center mt-5 pt-4 border-top" style="border-color: rgba(255, 107, 53, 0.2) !important;">
                            <button type="submit" class="btn btn-pawpal-primary btn-lg px-5 py-3">
                                <i class="fas fa-calculator me-2"></i>
                                Calculate Score
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Information Card -->
            <div class="pawpal-card mt-4 fade-in-up" style="animation-delay: 0.2s;">
                <div class="pawpal-card-body text-center">
                    <h5 class="mb-4">
                        <i class="fas fa-info-circle me-2"></i>
                        ABOUT THIS ASSESSMENT
                    </h5>
                    <p class="text-muted mb-0" style="font-size: 1.05rem; font-weight: 500; line-height: 1.8;">
                        This assessment tool helps evaluate your pet's quality of life across key areas. 
                        The results can provide valuable insights to discuss with your veterinarian about your pet's care and well-being.
                    </p>
                    <div class="mt-4">
                        <i class="fas fa-paw text-muted" style="font-size: 1.5rem; opacity: 0.3; margin: 0 8px;"></i>
                        <i class="fas fa-heart" style="font-size: 1.5rem; color: var(--pawpal-primary); margin: 0 8px;"></i>
                        <i class="fas fa-paw text-muted" style="font-size: 1.5rem; opacity: 0.3; margin: 0 8px;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Interactive range sliders
        function updateRangeValue(rangeId, valueId) {
            const range = document.getElementById(rangeId);
            const valueDisplay = document.getElementById(valueId);
            
            range.addEventListener('input', function() {
                valueDisplay.textContent = this.value;
                
                // Update color based on value
                const value = parseInt(this.value);
                if (value <= 3) {
                    valueDisplay.style.color = '#dc3545'; // Red
                } else if (value <= 6) {
                    valueDisplay.style.color = '#ffc107'; // Yellow
                } else {
                    valueDisplay.style.color = '#28a745'; // Green
                }

                // Add scale animation
                valueDisplay.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    valueDisplay.style.transform = 'scale(1)';
                }, 200);
            });
        }

        // Initialize range sliders
        updateRangeValue('painRange', 'painValue');
        updateRangeValue('mobilityRange', 'mobilityValue');
        updateRangeValue('appetiteRange', 'appetiteValue');
        updateRangeValue('happinessRange', 'happinessValue');

        // Form submission animation
        document.getElementById('qualityForm').addEventListener('submit', function(e) {
            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>CALCULATING...';
            submitBtn.disabled = true;
        });

        // Add fade-in animation on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in-up');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.pawpal-card').forEach((card) => {
            observer.observe(card);
        });

        // Add transition to range value
        document.querySelectorAll('.range-value').forEach(element => {
            element.style.transition = 'all 0.2s ease';
        });
    </script>
}